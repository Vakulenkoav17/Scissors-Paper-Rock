"use strict";(self["webpackChunkspr"]=self["webpackChunkspr"]||[]).push([[572],{6088:function(e,s,a){a.r(s),a.d(s,{default:function(){return X}});var t=a(3396),c=a(7139),i=a(9242),l=a.p+"img/paper.a9e491fb.jpg",r=a.p+"img/rock.302f07c2.jpg",n=a.p+"img/scissors.9b822a3a.jpg",o=a.p+"img/versus.3bd012df.png";const u=e=>((0,t.dD)("data-v-7e4e4f5e"),e=e(),(0,t.Cn)(),e),v=u((()=>(0,t._)("h2",null,"Твой ход",-1))),m={class:"main-waitscreen__choicescreen-container"},p=u((()=>(0,t._)("img",{src:l,alt:"paper fighter",class:"choice-image"},null,-1))),_=[p],d=u((()=>(0,t._)("img",{src:r,alt:"rock fighter",class:"choice-image"},null,-1))),g=[d],h=u((()=>(0,t._)("img",{src:n,alt:"scissors fighter",class:"choice-image"},null,-1))),w=[h],f={class:"section-waitsceen"},y=u((()=>(0,t._)("div",{class:"waitscreen_header"},[(0,t._)("h2",{class:"main-waitscreen__title"},"Идет великая битва")],-1))),b={class:"main-waitscreen__gameprocess-container"},k={class:"main-waitscreen__gameprocess-playerzone"},D={class:"main-waitscreen__gameprocess-username"},C={key:0,class:"lds-hourglass your-side-spinner"},M={key:0,class:"main-waitscreen__versus-image",src:o,alt:"vsimage"},R={class:"main-waitscreen__gameprocess-playerzone"},S={class:"main-waitscreen__gameprocess-username"},P={key:0,class:"lds-hourglass your-side-spinner"},$=u((()=>(0,t._)("div",{class:"main-waitscreen__gameprocess-userinfo"},[(0,t._)("div")],-1)));function z(e,s,a,l,r,n){const o=(0,t.up)("PopUp");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.wy)((0,t._)("section",{class:(0,c.C_)(["main-waitscreen__choicescreen-title",{"slide-up-fade-out":!1===l.canPlay}])},[v,(0,t._)("div",m,[(0,t._)("button",{class:"main-waitscreen__choicescreen-paper choice-button",onClick:s[0]||(s[0]=e=>l.selectMove("paper"))},_),(0,t._)("button",{class:"main-waitscreen__choicescreen-rock choice-button",onClick:s[1]||(s[1]=e=>l.selectMove("rock"))},g),(0,t._)("button",{class:"main-waitscreen__choicescreen-scissors choice-button",onClick:s[2]||(s[2]=e=>l.selectMove("scissors"))},w)])],2),[[i.F8,!0===l.canPlay]]),(0,t._)("section",f,[y,(0,t._)("div",b,[(0,t._)("div",k,[(0,t._)("p",D,(0,c.zw)(e.$store.state.userData.login),1),l.move?((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,c.C_)([l.move,"slideRight1"])},null,2)):((0,t.wg)(),(0,t.iD)("div",C))]),l.matchResult?((0,t.wg)(),(0,t.j4)(o,{key:1,matchResult:l.matchResult,playerMove:l.move},null,8,["matchResult","playerMove"])):((0,t.wg)(),(0,t.iD)("img",M)),(0,t._)("div",R,[(0,t._)("p",S,(0,c.zw)(e.$store.state.enemyData.login),1),l.enemyMoved?((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,c.C_)([l.calculatedClass,"slideLeft1"])},null,2)):((0,t.wg)(),(0,t.iD)("div",P)),$])])])])}var H=a(4870),I=a(65);const j=e=>((0,t.dD)("data-v-5e434b46"),e=e(),(0,t.Cn)(),e),L={class:"round-result-field"},G={class:"round-result-wrapper bigEntrance"},W={class:"round-result-window"},F={class:"result-declaration"},T={class:"title"},U={class:"match-result"},Y={class:"comment"},Z=j((()=>(0,t._)("div",null,null,-1))),A=j((()=>(0,t._)("p",{class:"offer"},"Играем еще?",-1))),E=j((()=>(0,t._)("div",null,null,-1))),N={class:"btns-block"},O=j((()=>(0,t._)("div",{class:"round-result-frame"},null,-1)));function q(e,s,a,i,l,r){return(0,t.wg)(),(0,t.iD)("div",L,[(0,t._)("div",G,[(0,t._)("div",W,[(0,t._)("div",F,[(0,t._)("h1",T,[(0,t._)("span",U,(0,c.zw)(r.getResult(a.matchResult,a.playerMove)),1)]),(0,t._)("p",Y,(0,c.zw)(r.getComment(a.matchResult,a.playerMove)),1),Z,A]),E,(0,t._)("div",N,[(0,t._)("button",{onClick:s[0]||(s[0]=(...e)=>r.toWaitScreen&&r.toWaitScreen(...e)),class:"button ok-button"},"Ok"),(0,t._)("button",{onClick:s[1]||(s[1]=(...e)=>r.toLobby&&r.toLobby(...e)),class:"button no-button"},"No!!!")])]),O])])}a(7658);var x={props:{matchResult:"",playerMove:String},data(){return{matchResults:{win:"Победа",lose:"Фиаско"},loseMessages:{rock:"Противник завернул ваш камушек в бумагу!",paper:"Ножницы разрезают ваш лист бумаги! Не повезло!",scissors:"Вы извлекли ножницы, но противник заготовил камень! Увы!"},winMessages:{rock:"Камнем по ножницам! Это был удачный ход!",paper:"Что может камень противника против вашего бумажного листа?! Ничего!",scissors:"Ножницами вы орудуете умело! Лист противника разрезан!"}}},methods:{getComment(e,s){return"win"===e?this.winMessages[s]:"lose"===e?this.loseMessages[s]:void 0},getResult(e,s){return"win"===e||"lose"===e?this.matchResults[e]:void 0},async toLobby(){await this.$store.commit("clearGameData"),this.$router.push("/lobby")},async toWaitScreen(){await this.$store.commit("clearGameData"),this.$store.dispatch("gameStart"),this.$router.push("/waiting")}}},B=a(89);const J=(0,B.Z)(x,[["render",q],["__scopeId","data-v-5e434b46"]]);var K=J,Q={components:{PopUp:K},setup(){const e=(0,H.iH)("");let s=(0,H.iH)("");const a=(0,H.iH)(!1),c=(0,H.iH)(!0);let i=(0,H.iH)("");const l=(0,H.iH)(null);let r=(0,t.Fl)((()=>n.state.userData.gameStatus));const n=(0,I.oR)(),o=s=>{e.value=s},u=()=>{l.value=setInterval((()=>{n.dispatch("fetchGameStatus")}),1e3)};let v=()=>{if("win"===n.state.userData.gameStatus){if("rock"===e.value)return"scissors";if("scissors"===e.value)return"paper";if("paper"===e.value)return"rock"}else if("lose"===n.state.userData.gameStatus){if("rock"===e.value)return"paper";if("scissors"===e.value)return"rock";if("paper"===e.value)return"scissors"}};return(0,t.YP)(e,(o=>{o&&!0===c.value&&(n.state.userData.gameStatus="waiting-for-enemy-move",n.dispatch("sendMove",o),c.value=!1,u(),(0,t.YP)(r,(async(t,r)=>{"waiting-for-enemy-move"===r&&"waiting-for-your-move"===t?(l.value&&clearInterval(l.value),i.value=o,a.value=!0,setTimeout((()=>{a.value=!1,c.value=!0,e.value=null}),3e3)):"win"!==t&&"lose"!==t||(setTimeout((()=>{s.value=t}),3e3),l.value&&clearInterval(l.value),i.value=v(),a.value=!0)})))})),(0,t.Ah)((()=>{l.value&&clearInterval(l.value)})),{move:e,matchResult:s,selectMove:o,enemyMoved:a,canPlay:c,calculatedClass:i}}};const V=(0,B.Z)(Q,[["render",z],["__scopeId","data-v-7e4e4f5e"]]);var X=V}}]);
//# sourceMappingURL=572.3197431e.js.map